add_package()

py_library(
  NAME
    tools
  DEPS
    .arg_parser
    .config
    .environment
    .runner
    .tool_utils
    .path_tools
    .tempfile
)

py_library(
  NAME
    arg_parser
  SRCS
    arg_parser.py
  DEPS
    pytype.libvm
    pytype.utils
)

py_library(
  NAME
    config
  SRCS
    config.py
  DEPS
    .path_tools
)

py_library(
  NAME
    environment
  SRCS
    environment.py
  DEPS
    .runner
    .path_tools
    pytype.pytd.pytd
)

py_library(
  NAME
    runner
  SRCS
    runner.py
)

py_library(
  NAME
    tool_utils
  SRCS
    tool_utils.py
  DEPS
    pytype.utils
)

py_library(
  NAME
    path_tools
  SRCS
    path_tools.py
)

py_library(
  NAME
    tempfile
  SRCS
    tempfile.py
)

py_test(
  NAME
    arg_parser_test
  SRCS
    arg_parser_test.py
  DEPS
    .tools
    pytype.libvm
    pytype.utils
)

py_test(
  NAME
    config_test
  SRCS
    config_test.py
  DEPS
    .tools
    pytype.utils
)

py_test(
  NAME
    environment_test
  SRCS
    environment_test.py
  DEPS
    .tools
    pytype.utils
)

py_test(
  NAME
    tool_utils_test
  SRCS
    tool_utils_test.py
  DEPS
    .tools
    pytype.utils
)

add_subdirectory(analyze_project)
add_subdirectory(annotate_ast)
add_subdirectory(merge_pyi)
add_subdirectory(traces)
add_subdirectory(xref)
